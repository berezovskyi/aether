(function(){"use strict";angular.module("fi.seco.void",["fi.seco.sparql"]).factory("voidService",["sparql",function(a){var b,c,d,e,f,g,h,i;return h="PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX  owl: <http://www.w3.org/2002/07/owl#>\nPREFIX xsd:   <http://www.w3.org/2001/XMLSchema#>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX void: <http://rdfs.org/ns/void#>\nPREFIX void-ext: <http://ldf.fi/void-ext#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX sioc: <http://rdfs.org/sioc/ns#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\n",i={General:h+"SELECT ?triples ?distinctIRIReferences ?distinctLiterals ?distinctBlankNodes ?distinctRDFNodes ?properties ?distinctSubjects ?distinctObjects ?distinctIRIReferenceSubjects ?distinctBlankNodeSubjects ?distinctIRIReferenceObjects ?distinctBlankNodeObjects ?classes ?subjectClasses ?propertyClasses ?objectClasses ?sparqlEndpoint ?datatypes ?languages {\n  |BEGINGRAPH|\n  OPTIONAL { |DATASET| void:triples ?triples }\n  OPTIONAL { |DATASET| void:classes ?classes }\n  OPTIONAL { |DATASET| void-ext:subjectClasses ?subjectClasses }\n  OPTIONAL { |DATASET| void-ext:propertyClasses ?propertyClasses }\n  OPTIONAL { |DATASET| void-ext:objectClasses ?objectClasses }\n  OPTIONAL { |DATASET| void-ext:distinctIRIReferences ?distinctIRIReferences }\n  OPTIONAL { |DATASET| void-ext:distinctLiterals ?distinctLiterals }\n  OPTIONAL { |DATASET| void-ext:distinctBlankNodes ?distinctBlankNodes }  \n  OPTIONAL { |DATASET| void-ext:distinctRDFNodes ?distinctRDFNodes }\n  OPTIONAL { |DATASET| void:distinctSubjects ?distinctSubjects }  \n  OPTIONAL { |DATASET| void:distinctObjects ?distinctObjects }\n  OPTIONAL { |DATASET| void:properties ?properties }\n  OPTIONAL { |DATASET| void-ext:distinctIRIReferenceSubjects ?distinctIRIReferenceSubjects }\n  OPTIONAL { |DATASET| void-ext:distinctBlankNodeSubjects ?distinctBlankNodeSubjects }\n  OPTIONAL { |DATASET| void-ext:distinctIRIReferenceObjects ?distinctIRIReferenceObjects }\n  OPTIONAL { |DATASET| void-ext:distinctBlankNodeObjects ?distinctBlankNodeObjects }\n  OPTIONAL { |DATASET| void-ext:datatypes ?datatypes }\n  OPTIONAL { |DATASET| void-ext:languages ?languages }\n  OPTIONAL { |DATASET| void:sparqlEndpoint ?sparqlEndpoint }\n  |ENDGRAPH|\n}",Property:h+"SELECT ?p ?triples ?distinctSubjects ?distinctIRIReferenceSubjects ?distinctBlankNodeSubjects ?distinctObjects ?distinctIRIReferenceObjects ?distinctBlankNodeObjects ?distinctLiterals {\n  |BEGINGRAPH|\n  |DATASET| void:propertyPartition ?partition .\n  ?partition void:property ?p .\n  OPTIONAL { ?partition void:triples ?triples }\n  OPTIONAL { ?partition void:distinctSubjects ?distinctSubjects }\n  OPTIONAL { ?partition void-ext:distinctIRIReferenceSubjects ?distinctIRIReferenceSubjects }\n  OPTIONAL { ?partition void-ext:distinctBlankNodeSubjects ?distinctBlankNodeSubjects }\n  OPTIONAL { ?partition void:distinctObjects ?distinctObjects }\n  OPTIONAL { ?partition void-ext:distinctIRIReferenceObjects ?distinctIRIReferenceObjects }\n  OPTIONAL { ?partition void-ext:distinctBlankNodeObjects ?distinctBlankNodeObjects }\n  OPTIONAL { ?partition void-ext:distinctLiterals ?distinctLiterals }\n  |ENDGRAPH|\n}\nORDER BY DESC(?triples)\nLIMIT 50","Object Datatype":h+"SELECT ?datatype ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:datatypePartition ?partition .\n  ?partition void-ext:datatype ?datatype .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Object Language":h+"SELECT ?language ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:languagePartition ?partition .\n  ?partition void-ext:language ?language .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Object Literal":h+"SELECT ?o ?triples {\n  |BEGINGRAPH|\n  |DATASET| void-ext:objectPartition ?partition .\n  ?partition void-ext:object ?o .\n  ?partition void:triples ?triples .\n  FILTER(isLiteral(?o))\n  |ENDGRAPH|\n}\nORDER BY DESC(?triples)\nLIMIT 50","Object Resource":h+"SELECT ?o ?triples {\n  |BEGINGRAPH|\n  |DATASET| void-ext:objectPartition ?partition .\n  ?partition void-ext:object ?o .\n  ?partition void:triples ?triples .\n  FILTER(!isLiteral(?o))\n  |ENDGRAPH|\n}\nORDER BY DESC(?triples)\nLIMIT 50",Subject:h+"SELECT ?s ?triples {\n  |BEGINGRAPH|\n  |DATASET| void-ext:subjectPartition ?partition .\n  ?partition void-ext:subject ?s .\n  ?partition void:triples ?triples .\n  |ENDGRAPH|\n}\nORDER BY DESC(?triples)\nLIMIT 50","Subject Namespace":h+"SELECT ?subjectNamespace ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:subjectNamespacePartition ?partition .\n  ?partition void-ext:namespace ?subjectNamespace .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Subject Type":h+"SELECT ?class ?entities {\n  |BEGINGRAPH|\n  |DATASET| void:classPartition ?partition .\n  ?partition void:class ?class .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Object Namespace":h+"SELECT ?objectNamespace ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:objectNamespacePartition ?partition .\n  ?partition void-ext:namespace ?objectNamespace .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Object Type":h+"SELECT ?objectClass ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:objectClassPartition ?partition .\n  ?partition void:class ?objectClass .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Property Namespace":h+"SELECT ?propertyNamespace ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:propertyNamespacePartition ?partition .\n  ?partition void-ext:namespace ?propertyNamespace .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25","Property Type":h+"SELECT ?propertyClass ?entities {\n  |BEGINGRAPH|\n  |DATASET| void-ext:propertyClassPartition ?partition .\n  ?partition void:class ?propertyClass .\n  ?partition void:entities ?entities .\n  |ENDGRAPH|\n}\nORDER BY DESC(?entities)\nLIMIT 25"},b={"Class Count":"SELECT (COUNT(DISTINCT ?type) AS ?classes) {\n  |BEGINGRAPH|\n  {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?s AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?p AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?o AS ?n)\n  }          \n  ?n a ?type .\n  |AFTERCONSTRAINT|\n  |ENDGRAPH|\n}","Subject Class Count":"SELECT (COUNT(DISTINCT ?type) AS ?subjectClasses) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  ?s a ?type .\n  |AFTERCONSTRAINT|\n  |ENDGRAPH|\n}","Property Class Count":"SELECT (COUNT(DISTINCT ?type) AS ?propertyClasses) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  ?p a ?type .\n  |AFTERCONSTRAINT|\n  |ENDGRAPH|\n}","Object Class Count":"SELECT (COUNT(DISTINCT ?type) AS ?objectClasses) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  ?o a ?type .\n  |AFTERCONSTRAINT|\n  |ENDGRAPH|\n}","Triple Part Counts":"SELECT (COUNT(DISTINCT ?s) AS ?distinctSubjects) (COUNT(DISTINCT ?p) AS ?properties) (COUNT(DISTINCT ?o) AS ?distinctObjects) (COUNT(*) AS ?triples) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  |ENDGRAPH|\n}","RDF Node Count":"SELECT (COUNT(DISTINCT ?n) AS ?distinctRDFNodes) {\n  |BEGINGRAPH|\n  {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?s AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?p AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?o AS ?n)\n  }\n  |ENDGRAPH|\n}","Literal Count":"SELECT (COUNT(DISTINCT ?o) AS ?distinctLiterals) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isLiteral(?o))\n  |ENDGRAPH|\n}","Datatype Count":'SELECT (COUNT(DISTINCT datatype(?o)) AS ?datatypes) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isLiteral(?o) && datatype(?o)!="")\n  |ENDGRAPH|\n}',"Language Count":'SELECT (COUNT(DISTINCT lang(?o)) AS ?languages) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isLiteral(?o) && lang(?o)!="")\n  |ENDGRAPH|\n}',"IRI Reference Count":"SELECT (COUNT(DISTINCT ?n) AS ?distinctIRIReferences) {\n  |BEGINGRAPH|\n  {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?s AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?p AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?o AS ?n)\n  }\n  FILTER(isIRI(?n))\n  |ENDGRAPH|\n}","Blank Node Count":"SELECT (COUNT(DISTINCT ?n) AS ?distinctBlankNodes) {\n  |BEGINGRAPH|\n  {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?s AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?p AS ?n)\n  } UNION {\n    |BEFORECONSTRAINT|\n    ?s ?p ?o .\n    |AFTERCONSTRAINT|\n    BIND (?o AS ?n)\n  }\n  FILTER(isBlank(?n))\n  |ENDGRAPH|\n}","IRI Reference Subject Count":"SELECT (COUNT(DISTINCT ?s) AS ?distinctIRIReferenceSubjects) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isIRI(?s))\n  |ENDGRAPH|\n}","Blank Node Subject Count":"SELECT (COUNT(DISTINCT ?s) AS ?distinctBlankNodeSubjects) {\n   |BEGINGRAPH|\n   |BEFORECONSTRAINT|\n   ?s ?p ?o .\n   |AFTERCONSTRAINT|\n   FILTER(isBlank(?s))\n   |ENDGRAPH|\n }","IRI Reference Object Count":"SELECT (COUNT(DISTINCT ?o) AS ?distinctIRIReferenceObjects) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isIRI(?o))\n  |ENDGRAPH|\n}","Blank Node Object Count":"SELECT (COUNT(DISTINCT ?o) AS ?distinctBlankNodeObjects) {\n  |BEGINGRAPH|\n  |BEFORECONSTRAINT|\n  ?s ?p ?o .\n  |AFTERCONSTRAINT|\n  FILTER(isBlank(?o))\n  |ENDGRAPH|\n}","Property Type":"SELECT ?propertyClass ?entities {\n  {\n    SELECT ?propertyClass (COUNT(DISTINCT ?p) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      OPTIONAL { ?p a ?type1 }\n      BIND(COALESCE(?type1,<http://www.w3.org/2000/01/rdf-schema#Resource>) AS ?propertyClass)\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?propertyClass\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}","Property Namespace":'SELECT ?propertyNamespace ?entities {\n  {\n    SELECT ?propertyNamespace (COUNT(DISTINCT ?p) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      |AFTERCONSTRAINT|\n      FILTER(isIRI(?p))\n      BIND(str(?p) AS ?str)\n      FILTER(CONTAINS(?str,"/") || CONTAINS(?str,"#"))\n      BIND (IRI(REPLACE(?str,"(.*[#/]).*","$1")) AS ?propertyNamespace)\n      |ENDGRAPH|\n    }\n    GROUP BY ?propertyNamespace\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}',Property:"SELECT ?p ?triples (?distinctLiterals+?distinctIRIReferenceObjects+?distinctBlankNodeObjects AS ?distinctObjects) ?distinctLiterals ?distinctIRIReferenceObjects ?distinctBlankNodeObjects (?distinctIRIReferenceSubjects+?distinctBlankNodeSubjects AS ?distinctSubjects) ?distinctIRIReferenceSubjects ?distinctBlankNodeSubjects {\n  {\n    SELECT ?p (COUNT(*) AS ?triples) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n    ORDER BY DESC(?triples)\n    LIMIT 50\n  }\n  OPTIONAL {\n    SELECT ?p (COUNT(DISTINCT ?o) AS ?distinctLiterals) {\n      {\n        SELECT ?p {\n          |BEGINGRAPH|\n          |BEFORECONSTRAINT|\n          ?s ?p ?o .\n          |AFTERCONSTRAINT|\n          |ENDGRAPH|\n        }\n        GROUP BY ?p\n        ORDER BY DESC(?triples)\n        LIMIT 50\n      }\n      |BEGINGRAPH|\n      ?s ?p ?o .\n      FILTER(isLiteral(?o))\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n  }\n  OPTIONAL {\n    SELECT ?p (COUNT(DISTINCT ?o) AS ?distinctIRIReferenceObjects) {\n      {\n        SELECT ?p {\n          |BEGINGRAPH|\n          |BEFORECONSTRAINT|\n          ?s ?p ?o .\n          |AFTERCONSTRAINT|\n          |ENDGRAPH|\n        }\n        GROUP BY ?p\n        ORDER BY DESC(?triples)\n        LIMIT 50\n      }\n      |BEGINGRAPH|\n      ?s ?p ?o .\n      FILTER(isIRI(?o))\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n  }\n  OPTIONAL {\n    SELECT ?p (COUNT(DISTINCT ?o) AS ?distinctBlankNodeObjects) {\n      {\n        SELECT ?p {\n          |BEGINGRAPH|\n          |BEFORECONSTRAINT|\n          ?s ?p ?o .\n          |AFTERCONSTRAINT|\n          |ENDGRAPH|\n        }\n        GROUP BY ?p\n        ORDER BY DESC(?triples)\n        LIMIT 50\n      }\n      |BEGINGRAPH|\n      ?s ?p ?o .\n      FILTER(isBlank(?o))\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n  }\n  OPTIONAL {\n    SELECT ?p (COUNT(DISTINCT ?s) AS ?distinctIRIReferenceSubjects) {\n      {\n        SELECT ?p {\n          |BEGINGRAPH|\n          |BEFORECONSTRAINT|\n          ?s ?p ?o .\n          |AFTERCONSTRAINT|\n          |ENDGRAPH|\n        }\n        GROUP BY ?p\n        ORDER BY DESC(?triples)\n        LIMIT 50\n      }\n      |BEGINGRAPH|\n      ?s ?p ?o .\n      FILTER(isIRI(?s))\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n  }\n  OPTIONAL {\n    SELECT ?p (COUNT(DISTINCT ?s) AS ?distinctBlankNodeSubjects) {\n      {\n        SELECT ?p {\n          |BEGINGRAPH|\n          |BEFORECONSTRAINT|\n          ?s ?p ?o .\n          |AFTERCONSTRAINT|\n          |ENDGRAPH|\n        }\n        GROUP BY ?p\n        ORDER BY DESC(?triples)\n        LIMIT 50\n      }\n      |BEGINGRAPH|\n      ?s ?p ?o .\n      FILTER(isBlank(?s))\n      |ENDGRAPH|\n    }\n    GROUP BY ?p\n  }\n}","Subject Type":"SELECT ?class ?entities {\n  {\n    SELECT ?class (COUNT(DISTINCT ?s) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      OPTIONAL { ?s a ?type1 }\n      BIND(COALESCE(?type1,<http://www.w3.org/2000/01/rdf-schema#Resource>) AS ?class)\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?class\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}","Subject Namespace":'SELECT ?subjectNamespace ?entities {\n  {\n    SELECT ?subjectNamespace (COUNT(DISTINCT ?s) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      |AFTERCONSTRAINT|\n      FILTER(isIRI(?s))\n      BIND(str(?s) AS ?str)\n      FILTER(CONTAINS(?str,"/") || CONTAINS(?str,"#"))\n      BIND (IRI(REPLACE(?str,"(.*[#/]).*","$1")) AS ?subjectNamespace)\n      |ENDGRAPH|\n    }\n    GROUP BY ?subjectNamespace\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}',Subject:"SELECT ?s ?triples {\n  {\n    SELECT ?s (COUNT(*) AS ?triples) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER(isIRI(?s))\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?s\n    ORDER BY DESC(?triples)\n    LIMIT 50\n  }\n}","Object Type":"SELECT ?objectClass ?entities {\n  {\n    SELECT ?objectClass (COUNT(DISTINCT ?o) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER (!isLiteral(?o))\n      OPTIONAL { ?o a ?type1 }\n      BIND(COALESCE(?type1,<http://www.w3.org/2000/01/rdf-schema#Resource>) AS ?objectClass)\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?objectClass\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}","Object Namespace":'SELECT ?objectNamespace ?entities {\n  {\n    SELECT ?objectNamespace (COUNT(DISTINCT ?o) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      |AFTERCONSTRAINT|\n      FILTER(isIRI(?o))\n      BIND(str(?o) AS ?str)\n      FILTER(CONTAINS(?str,"/") || CONTAINS(?str,"#"))\n      BIND (IRI(REPLACE(?str,"(.*[#/]).*","$1")) AS ?objectNamespace)\n      |ENDGRAPH|\n    }\n    GROUP BY ?objectNamespace\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}',"Object Resource":"SELECT ?o ?triples {\n  {\n    SELECT ?o (COUNT(*) AS ?triples) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER(isIRI(?o))\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?o\n    ORDER BY DESC(?triples)\n    LIMIT 50\n  }\n}","Object Datatype":"SELECT ?datatype ?entities {\n  {\n    SELECT ?datatype (COUNT(DISTINCT ?o) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER(isLiteral(?o) && datatype(?o)!='')\n      |AFTERCONSTRAINT|\n      BIND(datatype(?o) AS ?datatype)\n      |ENDGRAPH|\n    }\n    GROUP BY ?datatype\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}","Object Language":"SELECT ?language ?entities {\n  {\n    SELECT ?language (COUNT(DISTINCT ?o) AS ?entities) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER(isLiteral(?o) && lang(?o)!='')\n      |AFTERCONSTRAINT|\n      BIND(lang(?o) AS ?language)\n      |ENDGRAPH|\n    }\n    GROUP BY ?language\n    ORDER BY DESC(?entities)\n    LIMIT 25\n  }\n}","Object Literal":"SELECT ?o ?triples {\n  {\n    SELECT ?o (COUNT(*) AS ?triples) {\n      |BEGINGRAPH|\n      |BEFORECONSTRAINT|\n      ?s ?p ?o .\n      FILTER(isLiteral(?o))\n      |AFTERCONSTRAINT|\n      |ENDGRAPH|\n    }\n    GROUP BY ?o\n    ORDER BY DESC(?triples)\n    LIMIT 50\n  }\n}"},g={"Class Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void:classes ?classes .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Subject Class Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:subjectClasses ?subjectClasses .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Property Class Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:propertyClasses ?propertyClasses .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Class Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectClasses ?objectClasses .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Triple Part Counts":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void:distinctSubjects ?distinctSubjects .\n  |PARTITIONIRI| void:distinctObjects ?distinctObjects .\n  |PARTITIONIRI| void:properties ?properties .\n  |PARTITIONIRI| void:triples ?triples .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","RDF Node Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctRDFNodes ?distinctRDFNodes .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","IRI Reference Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctIRIReferences ?distinctIRIReferences .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Blank Node Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctBlankNodes ?distinctBlankNodes .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Literal Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctLiterals ?distinctLiterals .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Datatype Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:datatypes ?datatypes .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Language Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:languages ?languages .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","IRI Reference Subject Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctIRIReferenceSubjects ?distinctIRIReferenceSubjects .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Blank Node Subject Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctBlankNodeSubjects ?distinctBlankNodeSubjects .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","IRI Reference Object Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctIRIReferenceObjects ?distinctIRIReferenceObjects .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Blank Node Object Count":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:distinctBlankNodeObjects ?distinctBlankNodeObjects .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Subject Type":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void:classPartition _:b .\n  _:b void:class ?class .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Subject Namespace":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:subjectNamespacePartition _:b .\n  _:b void-ext:namespace ?subjectNamespace .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }",Subject:h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:subjectPartition _:b .\n  _:b void-ext:subject ?s .\n  _:b void:triples ?triples .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Property Type":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:propertyClassPartition _:b .\n  _:b void:class ?propertyClass .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Property Namespace":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:propertyNamespacePartition _:b .\n  _:b void-ext:namespace ?propertyNamespace .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }",Property:h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void:propertyPartition _:b .\n  _:b void:property ?p .\n  _:b void:triples ?triples .\n  _:b void-ext:distinctLiterals ?distinctLiterals .\n  _:b void-ext:distinctIRIReferenceObjects ?distinctIRIReferenceObjects .\n  _:b void-ext:distinctBlankNodeObjects ?distinctBlankNodeObjects .\n  _:b void-ext:distinctIRIReferenceSubjects ?distinctIRIReferenceSubjects .\n  _:b void-ext:distinctBlankNodeSubjects ?distinctBlankNodeSubjects .\n  _:b void:distinctSubjects ?distinctSubjects .\n  _:b void:distinctObjects ?distinctObjects .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Type":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectClassPartition _:b .\n  _:b void:class ?objectClass .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Namespace":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectNamespacePartition _:b .\n  _:b void-ext:namespace ?objectNamespace .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Resource":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectPartition _:b .\n  _:b void-ext:object ?o .\n  _:b void:triples ?triples .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Datatype":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectLiteralDatatypePartition _:b .\n  _:b void-ext:datatype ?datatype .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Language":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectLiteralLanguagePartition _:b .\n  _:b void-ext:language ?language .\n  _:b void:entities ?entities .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }","Object Literal":h+"INSERT {\n  |BEGINUPDATEGRAPH|\n  |DATASETTOPARTITION1|\n  |PARTITIONIRI| void-ext:objectPartition _:b .\n  _:b void-ext:object ?o .\n  _:b void:triples ?triples .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  { |DATASETTOPARTITION2| }"},f=h+'INSERT DATA {\n  |BEGINUPDATEGRAPH|\n  |DATASETIRI| a void:Dataset .\n  |DATASETIRI| void:sparqlEndpoint |SPARQLENDPOINT| .\n  |DATASETIRI| prov:generatedBy _:a .\n  _:a a prov:Activity .\n  _:a prov:startedAtTime "|STARTTIME|"^^xsd:dateTime .\n  _:a prov:wasAssociatedWith _:b .\n  _:b a prov:Agent .\n  _:b sioc:ip_address "|IPADDRESS|" .\n  |ENDUPDATEGRAPH|\n}',e=h+'INSERT {\n  |BEGINUPDATEGRAPH|\n  ?a prov:endedAtTime "|ENDTIME|"^^xsd:dateTime .\n  |ENDUPDATEGRAPH|\n} WHERE {\n  |BEGINUPDATEGRAPH|\n  |DATASETIRI| prov:generatedBy ?a .\n  |ENDUPDATEGRAPH|\n}',c=function(a,b){var c,d;switch(d="",c="",a){case"Subject":d="BIND("+b+" AS ?s)";break;case"Subject Type":c="?s a "+b+" .";break;case"Subject Namespace":c="FILTER (STRSTARTS(STR(?s),STR("+b+")))";break;case"Property":d="BIND("+b+" AS ?p)";break;case"Property Type":c="?p a "+b+" .";break;case"Property Namespace":c="FILTER (STRSTARTS(STR(?p),STR("+b+")))";break;case"Object Resource":case"Object Literal":d="BIND("+b+" AS ?o)";break;case"Object Type":c="?o a "+b+" .";break;case"Object Namespace":c="FILTER (STRSTARTS(STR(?o),STR("+b+")))";break;case"Object Datatype":c="FILTER(isLiteral(?o) && datatype(?o)="+b+")";break;case"Object Language":c="FILTER(isLiteral(?o) && lang(?o)="+b+")"}return{beforeConstraint:d,afterConstraint:c}},d=h+"SELECT ?limitStat ?limitObject {\n  |BEGINGRAPH|\n  |DATASETIRI| ?limitProperty ?partition .\n  ?partition ?limitProperty2 ?limitObject .\n  FILTER(?limitObject!=rdfs:Resource)\n  FILTER(?limitStat!='Object Resource' || isIRI(?limitObject))\n  FILTER(?limitStat!='Object Literal' || isLiteral(?limitObject))\n  VALUES (?limitStat ?limitProperty ?limitProperty2) {\n    ('Property' void:propertyPartition void:property)\n    ('Subject Type' void:classPartition void:class)\n    ('Subject' void-ext:subjectPartition void-ext:subject)\n    ('Object Resource' void-ext:objectPartition void-ext:object)\n    ('Object Literal' void-ext:objectPartition void-ext:object)\n    ('Subject Namespace' void-ext:subjectNamespacePartition void-ext:namespace)\n    ('Property Namespace' void-ext:propertyNamespacePartition void-ext:namespace)\n    ('Object Namespace' void-ext:objectNamespacePartition void-ext:namespace)\n    ('Property Type' void-ext:propertyClassPartition void:class)\n    ('Object Type' void-ext:objectClassPartition void:class)\n    ('Object Datatype' void-ext:objectLiteralDatatypePartition void-ext:datatype)\n    ('Object Language' void-ext:objectLiteralLanguagePartition void-ext:language)\n  }\n  |ENDGRAPH|\n}",{generalStatQueries:["Class Count","Subject Class Count","Property Class Count","Object Class Count","Triple Part Counts","RDF Node Count","Literal Count","Datatype Count","Language Count","IRI Reference Count","Blank Node Count","IRI Reference Subject Count","Blank Node Subject Count","IRI Reference Object Count","Blank Node Object Count"],generateStats:["Class Count","Subject Class Count","Property Class Count","Object Class Count","Triple Part Counts","RDF Node Count","Literal Count","Datatype Count","Language Count","IRI Reference Count","Blank Node Count","IRI Reference Subject Count","Blank Node Subject Count","IRI Reference Object Count","Blank Node Object Count","Subject Type","Subject Namespace","Subject","Property Type","Property Namespace","Property","Object Type","Object Namespace","Object Resource","Object Datatype","Object Language","Object Literal"],partitionStatInfo:{"Subject Type":{partitionProperty1:"void:classPartition",partitionProperty2:"void:class",binding:"class"},"Subject Namespace":{partitionProperty1:"void-ext:subjectNamespacePartition",partitionProperty2:"void-ext:namespace",binding:"subjectNamespace"},Subject:{partitionProperty1:"void-ext:subjectPartition",partitionProperty2:"void-ext:subject",binding:"s"},"Property Type":{partitionProperty1:"void-ext:propertyClassPartition",partitionProperty2:"void:class",binding:"propertyClass"},"Property Namespace":{partitionProperty1:"void-ext:propertyNamespacePartition",partitionProperty2:"void-ext:namespace",binding:"propertyNamespace"},Property:{partitionProperty1:"void:propertyPartition",partitionProperty2:"void:property",binding:"p"},"Object Type":{partitionProperty1:"void-ext:objectClassPartition",partitionProperty2:"void:class",binding:"objectClass"},"Object Namespace":{partitionProperty1:"void-ext:objectNamespacePartition",partitionProperty2:"void-ext:namespace",binding:"objectNamespace"},"Object Resource":{partitionProperty1:"void-ext:objectPartition",partitionProperty2:"void-ext:object",binding:"o"},"Object Datatype":{partitionProperty1:"void-ext:datatypePartition",partitionProperty2:"void-ext:datatype",binding:"datatype"},"Object Language":{partitionProperty1:"void-ext:languagePartition",partitionProperty2:"void-ext:language",binding:"language"},"Object Literal":{partitionProperty1:"void-ext:objectPartition",partitionProperty2:"void-ext:object",binding:"o"}},getPossibleLimits:function(b,c,e){return a.query(b,d.replace(/\|BEGINGRAPH\|/g,null!=c&&""!==c?" GRAPH <"+c+"> {":"").replace(/\|ENDGRAPH\|/g,null!=c&&""!==c?" } ":"").replace(/\|DATASETIRI\|/g,e))},insertMetadata:function(b,c,d,e,g,h){return a.update(b,f.replace(/\|DATASETIRI\|/g,e).replace(/\|BEGINUPDATEGRAPH\|/g,null!=c&&""!==c?" GRAPH <"+c+"> {":"").replace(/\|ENDUPDATEGRAPH\|/g,null!=c&&""!==c?" } ":"").replace(/\|SPARQLENDPOINT\|/g,d).replace(/\|IPADDRESS\|/g,h).replace(/\|STARTTIME\|/g,g))},insertEndTime:function(b,c,d,f){return a.update(b,e.replace(/\|DATASETIRI\|/g,d).replace(/\|BEGINUPDATEGRAPH\|/g,null!=c&&""!==c?" GRAPH <"+c+"> {":"").replace(/\|ENDUPDATEGRAPH\|/g,null!=c&&""!==c?" } ":"").replace(/\|ENDTIME\|/g,f))},getStatistic:function(b,c,d,e,f,g,h){var j;return j=null!=g?"<"+d+"> "+this.partitionStatInfo[f].partitionProperty1+" ?cpartition . ?cpartition "+this.partitionStatInfo[f].partitionProperty2+" "+g+" . ?cpartition":"<"+d+">",a.query(b,i[e].replace(/\|BEGINGRAPH\|/g,null!=c&&""!==c?" GRAPH <"+c+"> {":"").replace(/\|ENDGRAPH\|/g,null!=c&&""!==c?" } ":"").replace(/\|DATASET\|/g,j),h)},calculateStatistic:function(d,e,f,g,h,i){var j;return j=c(g,h),a.query(d,b[f].replace(/\|BEFORECONSTRAINT\|/g,j.beforeConstraint).replace(/\|AFTERCONSTRAINT\|/g,j.afterConstraint).replace(/\|BEGINGRAPH\|/g,null!=e&&""!==e?" GRAPH <"+e+"> {":"").replace(/\|ENDGRAPH\|/g,null!=e&&""!==e?" } ":""),i)},calculateAndInsertStatistic:function(d,e,f,h,i,j,k,l){var m,n,o,p,q,r,s;return null!=l?(m=c(k,l),q=this.partitionStatInfo[k].partitionProperty1,r=this.partitionStatInfo[k].partitionProperty2,p="?apartition",n="",o="<"+h+"> "+q+" "+p+" . "+p+" "+r+" "+l+" ."):(m={beforeConstraint:"",afterConstraint:""},p="<"+h+">",n="",o=""),s=g[f]+"{\nSERVICE <|QUERYENDPOINT|> {"+b[f]+"}}}",a.update(d,s.replace(/\|BEGINUPDATEGRAPH\|/g,null!=e&&""!==e?" GRAPH <"+e+"> {":"").replace(/\|ENDUPDATEGRAPH\|/g,null!=e&&""!==e?" } ":"").replace(/\|BEGINGRAPH\|/g,null!=j&&""!==j?" GRAPH <"+j+"> {":"").replace(/\|ENDGRAPH\|/g,null!=j&&""!==j?" } ":"").replace(/\|QUERYENDPOINT\|/g,i).replace(/\|DATASETTOPARTITION1\|/g,n).replace(/\|DATASETTOPARTITION2\|/g,o).replace(/\|PARTITIONIRI\|/g,p).replace(/\|BEFORECONSTRAINT\|/g,m.beforeConstraint).replace(/\|AFTERCONSTRAINT\|/g,m.afterConstraint))},insertReadyStatistic:function(b,c,d,e,f,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;for(null!=h?(n=this.partitionStatInfo[f].partitionProperty1,o=this.partitionStatInfo[f].partitionProperty2,m="?apartition",k="",l="<"+d+"> "+n+" "+m+" . "+m+" "+o+" "+h+" ."):(m="<"+d+">",k="",l=""),r="VALUES ( ",y=i.head.vars,s=0,v=y.length;v>s;s++)q=y[s],r=r+"?"+q+" ";for(r+=") { ",z=i.results.bindings,t=0,w=z.length;w>t;t++){for(j=z[t],r+="( ",A=i.head.vars,u=0,x=A.length;x>u;u++)q=A[u],r=r+a.bindingToString(j[q])+" ";r+=") "}return r+="}",l+=r,p=g[e]+"}",a.update(b,p.replace(/\|BEGINUPDATEGRAPH\|/g,null!=c&&""!==c?" GRAPH <"+c+"> {":"").replace(/\|ENDUPDATEGRAPH\|/g,null!=c&&""!==c?" } ":"").replace(/\|DATASETTOPARTITION1\|/g,k).replace(/\|DATASETTOPARTITION2\|/g,l).replace(/\|PARTITIONIRI\|/g,m))
}}}])}).call(this),function(){"use strict";angular.module("fi.seco.httpthrottle").value("maxRequests",4),angular.module("fi.seco.aether",["ngAnimate","ui.router","ui.bootstrap","nvd3ChartDirectives","fi.seco.sparql","fi.seco.void","fi.seco.prefix","fi.seco.httpthrottle"]).config(["$stateProvider","$urlRouterProvider",function(a,b){return b.otherwise("/"),a.state("view",{url:"/view?sparqlEndpoint&datasetIRI&graphIRI&compare_sparqlEndpoint&compare_datasetIRI&compare_graphIRI",templateUrl:"views/view.html",controller:"ViewCtrl",reloadOnSearch:!1,onEnter:["$rootScope",function(a){return a.title="Aether VoID Statistics Viewer"}]}),a.state("index",{url:"/",templateUrl:"views/index.html",controller:"IndexCtrl",onEnter:["$rootScope",function(a){return a.title="Aether VoID Statistics Tool"}]}),a.state("generate",{url:"/generate?sparqlEndpoint&graphIRI&sparulEndpoint&updateGraphIRI&datasetIRI&doSelections",templateUrl:"views/generate.html",controller:"GenerateCtrl",onEnter:["$rootScope",function(a){return a.title="Aether VoID Statistics Generator"}]}),a.state("generate-menu",{url:"/generate-menu?sparqlEndpoint&graphIRI&sparulEndpoint&updateGraphIRI&datasetIRI",templateUrl:"views/generateMenu.html",controller:"GenerateMenuCtrl",reloadOnSearch:!1,onEnter:["$rootScope",function(a){return a.title="Aether VoID Statistics Generator"}]})}]).config(["$httpProvider",function(a){return a.interceptors.push("httpThrottler")}])}.call(this),function(){"use strict";angular.module("fi.seco.aether").controller("IndexCtrl",function(){})}.call(this),function(){"use strict";angular.module("fi.seco.aether").controller("ViewCtrl",["$scope","$q","$location","$timeout","voidService","sparql","$window","$anchorScroll","$stateParams","prefixService",function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;a.scrollTo=function(a){return c.hash(a),h()},a.errors=[],B=function(b){var c;return c=j.shortForm(b),a.seenNs=j.getSeenPrefixNsMap(),c},t=function(b,c,d,e){var f;return a.queries--,0!==c?a.errors.push({errorSource:e.url,errorStatus:c,query:null!=(f=e.query)?f:e.data,error:b}):void 0},o=d3.format(",d"),u=d3.format(",2f"),a.queries=0,a.xTickFormat=function(a){var b,c,d;return d="▲"===a.charAt(0)||"▼"===a.charAt(0)?a.substring(1):a,"<http://www.w3.org/2000/01/rdf-schema#Resource>"===d?"no type":'"'===d.charAt(0)?-1!==d.indexOf("<")&&-1!==d.indexOf(">")?(b=d.substring(d.indexOf("<"),d.indexOf(">")+1),c=B(b),a.split(b).join(c)):a:a!==d?a.charAt(0)+B(d):B(d)},a.yTickFormat=function(a){return o(Math.abs(a))},A=function(b,c,d,e){var f,g,h,i;return f="<h3>"+c+"</h3>\n<p>"+d,(null!=(g=a["compare_"+b+"RDFNodes"])?g[c]:void 0)&&(null!=(h=a["compare_"+b+"RDFNodes"])?h[c]:void 0)!==e.value&&(f+=(null!=(i=a["compare_"+b+"RDFNodes"])?i[c]:void 0)<e.value?' <span class="glyphicon text-success glyphicon-chevron-up"></span>('+o(a["compare_"+b+"RDFNodes"][c])+")":' <span class="glyphicon text-danger glyphicon-chevron-down"></span>('+o(a["compare_"+b+"RDFNodes"][c])+")"),f+"</p>"},a.rdfNodeTooltipContent=function(a,b,c,d){return A("all",a,b,c,d)},a.subjectRDFNodeTooltipContent=function(a,b,c,d){return A("subject",a,b,c,d)},a.objectRDFNodeTooltipContent=function(a,b,c,d){return A("object",a,b,c,d)},a.tooltipContent=function(b,c,d,e){var f,g,h;return"▲"===c.charAt(0)||"▼"===c.charAt(0)?(h=e.point[0].substring(1),g=a["compare_results_"+e.e.relatedTarget.id.replace("Info","")],f=g?"▲"===c.charAt(0)?g[h]?' <span class="glyphicon text-success glyphicon-chevron-up"></span>('+o(g[h])+")":' <span class="glyphicon text-success glyphicon-chevron-up"></span>(?)':' <span class="glyphicon text-danger glyphicon-chevron-down"></span>('+o(g[h])+")":"",c=c.substring(1)):f="","<h3>"+c.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</h3>\n<p>"+d+f+"</p>"},a.propertyTooltipContent=function(b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r,s,t;if("▲"===c.charAt(0)||"▼"===c.charAt(0)?(c=c.substring(1),i=e.point[0].substring(1)):i=e.point[0],h=e.pointIndex,k={triples:-(a.propertyInfo[4].values[h][1]+a.propertyInfo[5].values[h][1]+a.propertyInfo[6].values[h][1]),distinctIRIReferenceObjects:a.propertyInfo[0].values[h][1],distinctLiteralObjects:a.propertyInfo[1].values[h][1],distinctBlankNodeObjects:a.propertyInfo[2].values[h][1],distinctIRIReferenceSubjects:-a.propertyInfo[4].values[h][1],distinctBlankNodeSubjects:-a.propertyInfo[5].values[h][1]},f={triples:"",distinctIRIReferenceObjects:"",distinctLiteralObjects:"",distinctBlankNodeObjects:"",distinctIRIReferenceSubjects:"",distinctBlankNodeSubjects:""},g=a.compare_results_property)for(n=["triples","distinctIRIReferenceObjects","distinctLiteralObjects","distinctBlankNodeObjects","distinctIRIReferenceSubjects","distinctBlankNodeSubjects"],l=0,m=n.length;m>l;l++)b=n[l],g[i]?g[i][b]?g[i][b]<k[b]?f[b]=' <span class="glyphicon text-success glyphicon-chevron-up"></span>('+o(g[i][b])+")":g[i][b]>k[b]&&(f[b]=' <span class="glyphicon text-danger glyphicon-chevron-down"></span>('+o(g[i][b])+")"):f[b]=' <span class="glyphicon text-success glyphicon-chevron-up"></span>(?)':f[b]=' <span class="glyphicon text-success glyphicon-chevron-up"></span>(?)';return j="<h3>"+c.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</h3>\n<p>\nTriples : "+a.yTickFormat(k.triples)+f.triples+"<br />",(k.distinctIRIReferenceObjects>0||(null!=g?null!=(p=g[i])?p.distinctIRIReferenceObjects:void 0:void 0)>0)&&(j+="Object IRI References: "+a.yTickFormat(k.distinctIRIReferenceObjects)+f.distinctIRIReferenceObjects+"<br />"),(k.distinctLiteralObjects>0||(null!=g?null!=(q=g[i])?q.distinctLiteralObjects:void 0:void 0)>0)&&(j+="Object Literals: "+a.yTickFormat(k.distinctLiteralObjects)+f.distinctLiteralObjects+"<br />"),(k.distinctBlankNodeObjects>0||(null!=g?null!=(r=g[i])?r.distinctBlankNodeObjects:void 0:void 0)>0)&&(j+="Object Blank Nodes: "+a.yTickFormat(k.distinctBlankNodeObjects)+f.distinctBlankNodeObjects+"<br />"),(k.distinctIRIReferenceSubjects>0||(null!=g?null!=(s=g[i])?s.distinctIRIReferenceSubjects:void 0:void 0)>0)&&(j+="Subject IRI References: "+a.yTickFormat(k.distinctIRIReferenceSubjects)+f.distinctIRIReferenceSubjects+"<br />"),(k.distinctBlankNodeSubjects>0||(null!=g?null!=(t=g[i])?t.distinctBlankNodeSubjects:void 0:void 0)>0)&&(j+="Subject Blank Nodes: "+a.yTickFormat(k.distinctBlankNodeSubjects)+f.distinctBlankNodeSubjects+"<br />"),j+"</p>"},n=null,a.$on("elementClick.directive",function(b,c){var e,f,h,i;if(f="▲"===c.point[0].charAt(0)||"▼"===c.point[0].charAt(0)?c.point[0].substring(1):c.point[0],!d.cancel(n))return n=d(function(){var c;return c=function(){switch(b.targetScope.id){case"propertyInfo":return"Property";case"subjectInfo":return"Subject";case"resourceObjectInfo":return"Object Resource";case"literalObjectInfo":return"Object Literal";case"datatypeInfo":return"Object Datatype";case"languageInfo":return"Object Language";case"subjectTypeInfo":return"Subject Type";case"propertyTypeInfo":return"Property Type";case"objectTypeInfo":return"Object Type";case"subjectNamespaceInfo":return"Subject Namespace";case"propertyNamespaceInfo":return"Property Namespace";case"objectNamespaceInfo":return"Object Namespace"}}(),a.limit={limitObject:f,limitStat:c},a.$apply()},500);switch(e=null!=(h=null!=(i=a.results)?i.sparqlEndpoint:void 0)?h:a.sparqlEndpoint,b.targetScope.id){case"propertyInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT * { ?s "+f+" ?o } LIMIT 100"));case"subjectInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT * { "+f+" ?p ?o } LIMIT 100"));case"resourceObjectInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT ?property (COUNT(?s) AS ?subjectCount) (SAMPLE(?s) AS ?sampleSubject) { ?s ?property "+f+" } GROUP BY ?property ORDER BY DESC(?subjectCount) LIMIT 100"));case"literalObjectInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT ?property (COUNT(?s) AS ?subjectCount) (SAMPLE(?s) AS ?sampleSubject) { ?s ?property "+f+" } GROUP BY ?property ORDER BY DESC(?subjectCount) LIMIT 100"));case"datatypeInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT * { ?s ?p ?o FILTER(datatype(?o) = "+f+") } LIMIT 100"));case"languageInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT * { ?s ?p ?o FILTER(lang(?o) = "+f+") } LIMIT 100"));case"subjectTypeInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT * { ?s a "+f+" } LIMIT 100"));case"objectTypeInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT DISTINCT ?o { ?s ?p ?o . ?o a "+f+" } LIMIT 100"));case"propertyTypeInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT DISTINCT ?p { ?s ?p ?o . ?p a "+f+" } LIMIT 100"));case"propertyNamespaceInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT DISTINCT ?p { ?s ?p ?o . FILTER (STRSTARTS(STR(?p),'"+f.substring(1,f.length-1)+"')) } LIMIT 100"));case"subjectNamespaceInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT DISTINCT ?s { ?s ?p ?o . FILTER (STRSTARTS(STR(?s),'"+f.substring(1,f.length-1)+"')) } LIMIT 100"));case"objectNamespaceInfo":return g.open(""+e+"?output=text&query="+encodeURIComponent("SELECT DISTINCT ?o { ?s ?p ?o . FILTER (STRSTARTS(STR(?o),'"+f.substring(1,f.length-1)+"')) } LIMIT 100"))}}),m=function(b){return a[b]?(a.queries++,f.query(a[b],"ASK {}").success(function(c){return a.queries--,a[b+"Valid"]=null!=c.boolean}).error(function(){return a.queries--,a[b+"Valid"]=!1})):void 0},a.$watch("sparqlEndpointInput",function(){return m("sparqlEndpointInput")}),a.$watch("compare_sparqlEndpointInput",function(){return m("compare_sparqlEndpointInput")}),l={},q=function(c){return a.errors=[],a[c+"graphIRIFetching"]=!0,a[c+"graphs"]=null,""===c&&a.compare_graphIRI===a.graphIRI&&a.compare_sparqlEndpoint===a.sparqlEndpoint&&(a.compare_graphs=null,a.compare_graphIRIFetching=!0),null!=l[c+"graphIRI"]&&l[c+"graphIRI"].resolve(),l[c+"graphIRI"]=b.defer(),a.queries++,f.query(a[c+"sparqlEndpoint"],"SELECT ?graphIRI (COUNT(?s) AS ?datasets) (COUNT(?s2) AS ?triples) {\n {\n   ?s2 ?p ?o\n }\n UNION\n {\n   GRAPH ?graphIRI { ?s2 ?p ?o }\n }\n UNION\n {\n   GRAPH ?graphIRI {\n     ?s a <http://rdfs.org/ns/void#Dataset>\n   }\n  } UNION {\n   ?s a <http://rdfs.org/ns/void#Dataset>\n  }\n}\nGROUP BY ?graphIRI",{timeout:l[c+"graphIRI"].promise}).success(function(b){var d,e,f,g,h,i;for(a.queries--,e=!1,h=b.results.bindings,f=0,g=h.length;g>f;f++)d=h[f],(null!=(i=d.graphIRI)?i.value:void 0)===a[c+"graphIRI"]&&(e=!0);return e||delete a[c+"graphIRI"],a[c+"graphIRIFetching"]=!1,a[c+"graphs"]=b.results.bindings,""===c&&a.compare_sparqlEndpoint===a.sparqlEndpoint&&(e||delete a.compare_graphIRI,a.compare_graphIRIFetching=!1,a.compare_graphs=b.results.bindings),p(c)}).error(t)},a.$watch("sparqlEndpoint",function(b,d){var e,f;if(b!==d){a.sparqlEndpointInput=b,a.errors=[];for(e in l)f=l[e],f.resolve();return c.search("sparqlEndpoint",b),(a.compare_sparqlEndpoint===d||null==a.compare_sparqlEndpoint||""===a.compare_sparqlEndpoint)&&(a.compare_sparqlEndpoint=b),q("")}}),a.$watch("compare_sparqlEndpoint",function(b,d){return b!==d?(a.compare_sparqlEndpointInput=b,b===a.sparqlEndpoint&&(b=null),c.search("compare_sparqlEndpoint",b),q("compare_")):void 0}),p=function(c){var d;return a.errors=[],a[c+"datasetIRIFetching"]=!0,""===c&&a.compare_datasetIRI===a.datasetIRI&&a.compare_graphIRI===a.graphIRI&&a.compare_sparqlEndpoint===a.sparqlEndpoint&&(a.compare_datasetIRIFetching=!0),null!=l[c+"datasetIRI"]&&l[c+"datasetIRI"].resolve(),a[c+"datasets"]=null,l[c+"datasetIRI"]=b.defer(),d=a[c+"graphIRI"]?"SELECT DISTINCT ?datasetIRI ?sparqlEndpoint {\n  GRAPH <"+a[c+"graphIRI"]+"> {\n    ?datasetIRI a <http://rdfs.org/ns/void#Dataset> .\n    OPTIONAL {\n      ?datasetIRI <http://www.w3.org/ns/prov#generatedBy> ?activity .\n      ?activity <http://www.w3.org/ns/prov#startedAtTime> ?time\n    }\n    OPTIONAL {\n      ?datasetIRI <http://rdfs.org/ns/void#sparqlEndpoint> ?sparqlEndpoint .\n    }\n  }\n}\nORDER BY DESC(?time)":"SELECT DISTINCT ?datasetIRI ?sparqlEndpoint {\n  ?datasetIRI a <http://rdfs.org/ns/void#Dataset> .\n  OPTIONAL {\n    ?datasetIRI <http://www.w3.org/ns/prov#generatedBy> ?activity .\n    ?activity <http://www.w3.org/ns/prov#startedAtTime> ?time\n  }\n  OPTIONAL {\n    ?datasetIRI <http://rdfs.org/ns/void#sparqlEndpoint> ?sparqlEndpoint .\n  }\n}\nORDER BY DESC(?time)",a.queries++,f.query(a[c+"sparqlEndpoint"],d,{timeout:l[c+"datasetIRI"].promise}).success(function(b){var d,e,f,g,h,i,j;for(a.queries--,e=!1,h=b.results.bindings,f=0,g=h.length;g>f;f++)d=h[f],(null!=(i=d.datasetIRI)?i.value:void 0)===a[c+"datasetIRI"]&&(e=!0);return e||delete a[c+"datasetIRI"],null==a[c+"datasetIRI"]&&b.results.bindings.length>0&&(a[c+"datasetIRI"]=null!=(j=b.results.bindings[0].datasetIRI)?j.value:void 0),a[c+"datasetIRIFetching"]=!1,a[c+"datasets"]=b.results.bindings,""===c&&a.compare_graphIRI===a.graphIRI&&a.compare_sparqlEndpoint===a.sparqlEndpoint&&(a.compare_datasetIRIFetching=!1,a.compare_datasets=b.results.bindings,e||delete a.compare_datasetIRI,(a.compare_datasetIRI!==a.datasetIRI||a.compare_sparqlEndpoint!==a.sparqlEndpoint||a.compare_graphIRI!==a.graphIRI)&&r("compare_")),r(c)}).error(t)},a.$watch("graphIRI",function(b,d){return b!==d&&(c.search("graphIRI",b),p(""),a.compare_graphIRI===d||null==a.compare_graphIRI)?a.compare_graphIRI=b:void 0}),a.$watch("compare_graphIRI",function(b,d){return b!==d&&(c.search("compare_graphIRI",b),a.compare_graphIRI!==a.graphIRI||a.compare_sparqlEndpoint!==a.sparqlEndpoint)?p("compare_"):void 0}),D=function(){return a.queries++,e.getPossibleLimits(a.sparqlEndpoint,a.graphIRI,"<"+a.datasetIRI+">").success(function(b){var c,d,e,g,h,i;for(a.queries--,a.limits=[],h=b.results.bindings,i=[],e=0,g=h.length;g>e;e++)c=h[e],d=f.bindingToString(c.limitObject),i.push(a.limits.push({limitName:B(d),limitStat:c.limitStat.value,limitObject:d}));return i}).error(t)},a.$watch("datasetIRI",function(b,d){return b!==d?(c.search("datasetIRI",b),(a.compare_datasetIRI===d||null==a.compare_datasetIRI)&&(a.compare_datasetIRI=b),D(),r("")):void 0}),a.$watch("compare_datasetIRI",function(b,d){return b!==d&&(c.search("compare_datasetIRI",b),a.compare_datasetIRI!==a.datasetIRI||a.compare_sparqlEndpoint!==a.sparqlEndpoint||a.compare_graphIRI!==a.graphIRI)?r("compare_"):void 0}),w=function(b,c,d,e){var g,h,i,j;for(h={},i=0,j=e.length;j>i;i++)g=e[i],h[f.bindingToString(g[c])]=parseInt(g[d].value);return a["compare_results_"+b]=h},x={"Property Namespace":function(a){return w("propertyNamespace","propertyNamespace","entities",a)},"Property Type":function(a){return w("propertyType","propertyClass","entities",a)},"Subject Namespace":function(a){return w("subjectNamespace","subjectNamespace","entities",a)},"Subject Type":function(a){return w("subjectType","class","entities",a)},Subject:function(a){return w("subject","s","triples",a)},"Object Namespace":function(a){return w("objectNamespace","objectNamespace","entities",a)},"Object Type":function(a){return w("objectType","objectClass","entities",a)},"Object Datatype":function(a){return w("datatype","datatype","entities",a)},"Object Language":function(a){return w("language","language","entities",a)},"Object Resource":function(a){return w("objectResource","o","triples",a)},"Object Literal":function(a){return w("objectLiteral","o","triples",a)},Property:function(b){var c,d,e,g,h;for(d={},g=0,h=b.length;h>g;g++)c=b[g],e={triples:parseInt(c.triples.value),distinctIRIReferenceSubjects:null!=c.distinctIRIReferenceSubjects?parseInt(c.distinctIRIReferenceSubjects.value):0,distinctBlankNodeSubjects:null!=c.distinctBlankNodeSubjects?parseInt(c.distinctBlankNodeSubjects.value):0,distinctIRIReferenceObjects:null!=c.distinctIRIReferenceObjects?parseInt(c.distinctIRIReferenceObjects.value):0,distinctBlankNodeObjects:null!=c.distinctBlankNodeObjects?parseInt(c.distinctBlankNodeObjects.value):0,distinctLiteralObjects:null!=c.distinctLiterals?parseInt(c.distinctLiterals.value):0},d[f.bindingToString(c.p)]=e;return a.compare_results_property=d}},s=function(b,c,d,e,g){var h,i,j,k,l,m,n,o,p;if(a["results_"+b]){for(k=[],m=0,p=a["results_"+b],n=0,o=p.length;o>n;n++)h=p[n],i=parseInt(h[e].value),m+=i,l=f.bindingToString(h[d]),null!=a["compare_results_"+c]?a["compare_results_"+c][l]?(j=a["compare_results_"+c][l],i>j?l="▲"+l:j>i&&(l="▼"+l)):l="▲"+f.bindingToString(h[d]):l=f.bindingToString(h[d]),k.push([l,i]);return a[c+"InfoTotal"+g]=m,a[c+"Info"]=[{key:g,values:k}]}},C={"Property Namespace":function(){return s("Property Namespace","propertyNamespace","propertyNamespace","entities","Properties")},"Property Type":function(){return s("Property Type","propertyType","propertyClass","entities","Properties")},"Subject Namespace":function(){return s("Subject Namespace","subjectNamespace","subjectNamespace","entities","Subjects")},"Subject Type":function(){return s("Subject Type","subjectType","class","entities","Subjects")},Subject:function(){return s("Subject","subject","s","triples","Triples")},"Object Namespace":function(){return s("Object Namespace","objectNamespace","objectNamespace","entities","Objects")},"Object Type":function(){return s("Object Type","objectType","objectClass","entities","Objects")},"Object Datatype":function(){return s("Object Datatype","datatype","datatype","entities","Literals")},"Object Language":function(){return s("Object Language","language","language","entities","Literals")},"Object Resource":function(){return s("Object Resource","resourceObject","o","triples","Triples")},"Object Literal":function(){return s("Object Literal","literalObject","o","triples","Triples")},Property:function(){var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s;if(a.results_Property){for(h=[],e=[],g=[],d=[],i=[],m=[],n=[],o=0,r=a.results_Property,p=0,q=r.length;q>p;p++)b=r[p],l=f.bindingToString(b.p),null!=b.triples?(o+=parseInt(b.triples.value),j=parseInt(b.triples.value),k=j):(j=0,k=0),a.compare_results_property&&((null!=(s=a.compare_results_property)?s[l]:void 0)?(c=a.compare_results_property[l].triples,j>c?l="▲"+l:c>j&&(l="▼"+l)):l="▲"+l),h.push(null!=b.distinctIRIReferenceSubjects?[l,-parseInt(b.distinctIRIReferenceSubjects.value)]:[l,0]),e.push(null!=b.distinctBlankNodeSubjects?[l,-parseInt(b.distinctBlankNodeSubjects.value)]:[l,0]),b.distinctIRIReferenceSubjects&&(j-=parseInt(b.distinctIRIReferenceSubjects.value)),b.distinctBlankNodeSubjects&&(j-=parseInt(b.distinctBlankNodeSubjects.value)),b.distinctIRIReferenceObjects&&(k-=parseInt(b.distinctIRIReferenceObjects.value)),b.distinctBlankNodeObjects&&(k-=parseInt(b.distinctBlankNodeObjects.value)),b.distinctLiterals&&(k-=parseInt(b.distinctLiterals.value)),m.push([l,-j]),n.push([l,k]),g.push(null!=b.distinctIRIReferenceObjects?[l,parseInt(b.distinctIRIReferenceObjects.value)]:[l,0]),d.push(null!=b.distinctBlankNodeObjects?[l,parseInt(b.distinctBlankNodeObjects.value)]:[l,0]),i.push(null!=b.distinctLiterals?[l,parseInt(b.distinctLiterals.value)]:[l,0]);return a.propertyInfoTotalTriples=o,a.propertyInfo=[{key:"IRI Reference Objects",values:g},{key:"Literal Objects",values:i},{key:"Blank Node Objects",values:d},{key:"Triples",values:n},{key:"IRI Reference Subjects",values:h},{key:"Blank Node Subjects",values:e},{key:"Triples",values:m}]}}},k=function(c,d,f){var g,h,i,j,k;for(j=e.generalStatQueries,k=[],h=0,i=j.length;i>h;h++)g=j[h],null!=l[c+g]&&l[c+g].resolve(),l[c+g]=b.defer(),a.queries++,k.push(e.calculateStatistic(d,f,g,"undefined"!=typeof limit&&null!==limit?limit.limitStat:void 0,"undefined"!=typeof limit&&null!==limit?limit.limitObject:void 0,{timeout:l[c+g].promise}).success(function(b){return a.queries--,y(c,b)}).error(t));return k},y=function(b,c){var d,e,f;f=c.results.bindings[0];for(d in f)e=f[d],a[b+"results"][d]="sparqlEndpoint"!==d?parseInt(e.value):e.value;if("compare_"===b){if(null!=a[b+"results"].distinctIRIReferences&&null!=a[b+"results"].distinctBlankNodes&&null!=a[b+"results"].distinctLiterals&&(a.compare_allRDFNodes={"IRI References":a[b+"results"].distinctIRIReferences,"Blank Nodes":a[b+"results"].distinctBlankNodes,Literals:a[b+"results"].distinctLiterals}),null!=a[b+"results"].distinctIRIReferenceSubjects&&null!=a[b+"results"].distinctBlankNodeSubjects&&(a.compare_subjectRDFNodes={"IRI References":a[b+"results"].distinctIRIReferenceSubjects,"Blank Nodes":a[b+"results"].distinctBlankNodeSubjects}),null!=a[b+"results"].distinctIRIReferenceObjects&&null!=a[b+"results"].distinctBlankNodeObjects&&null!=a[b+"results"].distinctLiterals)return a.compare_objectRDFNodes={"IRI References":a[b+"results"].distinctIRIReferenceObjects,"Blank Nodes":a[b+"results"].distinctBlankNodeObjects,Literals:a[b+"results"].distinctLiterals}}else if(null!=a[b+"results"].distinctIRIReferences&&null!=a[b+"results"].distinctBlankNodes&&null!=a[b+"results"].distinctLiterals&&(a.allRDFNodes=[["IRI References",a[b+"results"].distinctIRIReferences],["Blank Nodes",a[b+"results"].distinctBlankNodes],["Literals",a[b+"results"].distinctLiterals]]),null!=a[b+"results"].distinctIRIReferenceSubjects&&null!=a[b+"results"].distinctBlankNodeSubjects&&(a.subjectRDFNodes=[["IRI References",a[b+"results"].distinctIRIReferenceSubjects],["Blank Nodes",a[b+"results"].distinctBlankNodeSubjects]]),null!=a[b+"results"].distinctIRIReferenceObjects&&null!=a[b+"results"].distinctBlankNodeObjects&&null!=a[b+"results"].distinctLiterals)return a.objectRDFNodes=[["IRI References",a[b+"results"].distinctIRIReferenceObjects],["Blank Nodes",a[b+"results"].distinctBlankNodeObjects],["Literals",a[b+"results"].distinctLiterals]]},z=function(b,c,d){return"compare_"===b?x[c](d.results.bindings):a[b+"results_"+c]=d.results.bindings,C[c]()},r=function(c){var d,f,g,h,i,j,m,n,o,p;if(a.errors=[],a[c+"results"]={},"compare_"===c?(a.compare_allRDFNodes=null,a.compare_subjectRDFNodes=null,a.compare_objectRDFNodes=null):(a.allRDFNodes=null,a.subjectRDFNodes=null,a.objectRDFNodes=null),f=null,a[c+"datasetIRI"])for(j=a[c+"datasets"],h=0,i=j.length;i>h;h++)d=j[h],a[c+"datasetIRI"]===d.datasetIRI.value&&(f=null!=(m=d.sparqlEndpoint)?m.value:void 0);a[c+"datasetIRI"]?(null!=l[c+"General"]&&l[c+"General"].resolve(),l[c+"General"]=b.defer(),a.queries++,e.getStatistic(a[c+"sparqlEndpoint"],a[c+"graphIRI"],a[c+"datasetIRI"],"General",null!=(n=a.limit)?n.limitStat:void 0,null!=(o=a.limit)?o.limitObject:void 0,{timeout:l[c+"General"].promise}).success(function(b){return a.queries--,b.results.bindings.length>0||!f?y(c,b):k(c,f,a[c+"graphIRI"])}).error(t)):k(c,a[c+"sparqlEndpoint"],a[c+"graphIRI"]),p=[];for(g in C)null!=l[c+g]&&l[c+g].resolve(),l[c+g]=b.defer(),a.queries++,p.push(function(b){var d,g,h,i;return a[c+"datasetIRI"]?e.getStatistic(a[c+"sparqlEndpoint"],a[c+"graphIRI"],a[c+"datasetIRI"],b,null!=(d=a.limit)?d.limitStat:void 0,null!=(g=a.limit)?g.limitObject:void 0,{timeout:l[c+b].promise}).success(function(d){var g,h;return a.queries--,d.results.bindings.length>0||!f?z(c,b,d):(a.queries++,e.calculateStatistic(f,a[c+"graphIRI"],b,null!=(g=a.limit)?g.limitStat:void 0,null!=(h=a.limit)?h.limitObject:void 0,{timeout:l[c+b].promise}).success(function(d){return a.queries--,z(c,b,d)}).error(t))}).error(t):e.calculateStatistic(a[c+"sparqlEndpoint"],a[c+"graphIRI"],b,null!=(h=a.limit)?h.limitStat:void 0,null!=(i=a.limit)?i.limitObject:void 0,{timeout:l[c+b].promise}).success(function(d){return a.queries--,z(c,b,d)}).error(t)}(g));return p},a.$watch("limit",function(b,d){return b!==d?""===b?void delete a.limit:(null==b?(c.search("limitStat",null),c.search("limitObject",null)):(c.search("limitStat",b.limitStat),c.search("limitObject",b.limitObject)),r(""),a.compare_datasetIRI!==a.datasetIRI||a.compare_sparqlEndpoint!==a.sparqlEndpoint||a.compare_graphIRI!==a.graphIRI?r("compare_"):void 0):void 0});for(v in i)E=i[v],a[v]=E;return a.compare_graphIRI||(a.compare_graphIRI=a.graphIRI),a.compare_datasetIRI||(a.compare_datasetIRI=a.datasetIRI),a.sparqlEndpoint&&(a.compare_sparqlEndpoint||(a.compare_sparqlEndpoint=a.sparqlEndpoint),a.sparqlEndpointInput=a.sparqlEndpoint,q("")),a.compare_sparqlEndpoint&&(a.compare_sparqlEndpointInput=a.compare_sparqlEndpoint),a.datasetIRI&&D(),a.$on("$locationChangeSuccess",function(){var b,d,e,f,g,h,i,j;h=c.search();for(v in h)E=h[v],a[v]=E;if(c.search().limitStat&&c.search().limitObject){for(e=c.search().limitStat,d=c.search().limitObject,i=a.limits,j=[],f=0,g=i.length;g>f;f++)b=i[f],j.push(e===b.limitStat&&d===b.limitObject?a.limit=b:void 0);return j}return delete a.limit})}])}.call(this),function(){"use strict";angular.module("fi.seco.aether").controller("GenerateCtrl",["$stateParams","$scope","$modal","$timeout","sparql","voidService",function(a,b,c,d,e,f){var g,h,i,j,k;return b.errors=[],i=function(a,c,d,e){var f;return b.errors.push({errorSource:e.url,errorStatus:c,query:null!=(f=e.data)?f:e.params.query,error:a})},b.stats=f.generateStats,b.main={processed:0,total:b.stats.length},b.statFilter=function(){return function(a){return null!=f.partitionStatInfo[a]}},b.statStatus={},b.subStatStatus={},g=function(c,d,j,k,l){return f.calculateStatistic(a.sparqlEndpoint,a.graphIRI,d,j,k).success(function(m,n,o,p){var q,r,s,t,u,v;if(null==(null!=(u=m.head)?u.vars:void 0))return l?g(c,d,j,k,!1):("none"===j?(b.statStatus[d]="error",b.main.errors++):c.errored||(c.errored=!0,b.subStatStatus[j].errors++),b.total.errors+=2,i(m,n+", but bad data",o,p));if(b.total.processed++,a.doSelections===!0&&"none"===j&&f.partitionStatInfo[d])for(r={errors:0,processed:0,total:m.results.bindings.length},b.subStatStatus[d]=r,b.total.total+=2*m.results.bindings.length*b.stats.length,v=m.results.bindings,s=0,t=v.length;t>s;s++)q=v[s],h(d,e.bindingToString(q[f.partitionStatInfo[d].binding]));return f.insertReadyStatistic(a.sparulEndpoint,a.updateGraphIRI,a.datasetIRI,d,j,k,m).success(function(){return"none"===j?(b.statStatus[d]="ok",b.main.processed++):++c.successfulParts===b.stats.length&&b.subStatStatus[j].processed++,b.total.processed++}).error(function(a,e,f,g){return"none"===j?(b.statStatus[d]="error",b.main.errors++):c.errored||(c.errored=!0,b.subStatStatus[j].errors++),b.total.errors++,i(a,e,f,g)})}).error(function(a,e,f,g){return"none"===j?(b.main.errors++,b.statStatus[d]="error"):c.errored||(c.errored=!0,b.subStatStatus[j].errors++),b.total.errors+=2,i(a,e,f,g)})},h=function(a,b){var c,d,e,h,i,j;for(d={successfulParts:0,errored:!1},i=f.generateStats,j=[],e=0,h=i.length;h>e;e++)c=i[e],j.push(function(c){return g(d,c,a,b,!0)}(c));return j},b.startTime=new Date,b.total={processed:0,errors:0,total:2*b.stats.length},j=null,k=function(){return b.curTime=new Date,j=d(k,1e3)},k(),f.insertMetadata(a.sparulEndpoint,a.updateGraphIRI,"<"+a.sparqlEndpoint+">","<"+a.datasetIRI+">",b.startTime.toISOString(),window.user_ip_address).success(function(){return h("none",null)}).error(i),b.sparqlEndpoint=a.sparulEndpoint.replace("update","sparql"),b.graphIRI=a.updateGraphIRI,b.datasetIRI=a.datasetIRI,b.doSelections=a.doSelections,b.$watchCollection("[ total.processed, total.errors ]",function(){return b.total&&b.total.processed+b.total.errors===b.total.total?(d.cancel(j),b.endTime=new Date,f.insertEndTime(a.sparulEndpoint,a.updateGraphIRI,"<"+a.datasetIRI+">",b.endTime.toISOString()).success(function(){return c.open({scope:b,template:'<div class="modal-header">\n    <h3>Generation Complete</h3>\n</div>\n<div class="modal-body">\n    VoID statistic generation complete in {{((endTime - startTime) / 1000) % (60 * 60 * 24) / (60 * 60) | number: 0}}:{{((endTime - startTime) / 1000) % (60 * 60) / 60 | number: 0}}:{{((endTime - startTime) / 1000) % 60 | number: 0}} with a total of {{total.processed}} successful and {{total.errors}} failed queries.\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="$close()" ui-sref-opts="{location: \'replace\'}" ui-sref="view({sparqlEndpoint:sparqlEndpoint,graphIRI:graphIRI,datasetIRI:datasetIRI})">See Results</button>\n</div>'})}).error(i)):void 0})}])}.call(this),function(){"use strict";angular.module("fi.seco.aether").controller("GenerateMenuCtrl",["$q","$scope","$location","$stateParams","sparql",function(a,b,c,d,e){var f,g,h,i,j;b.errors=[],h=function(a,c,d,e){var f;return b.errors.push({errorSource:e.url,errorStatus:c,query:null!=(f=e.data)?f:e.params.query,error:a})},b.$watch("sparqlEndpointInput",function(a){return null!==a?e.query(a,"ASK {}").success(function(a){return b.sparqlEndpointInputValid=null!=a.boolean}).error(function(){return b.sparqlEndpointInputValid=!1}):void 0}),b.$watch("sparulEndpointInput",function(a){return null!==a?e.update(a,"INSERT DATA {}").success(function(a,c){return b.sparulEndpointInputValid=204===c}).error(function(){return b.sparulEndpointInputValid=!1}):void 0}),b.$watch("graphIRI",function(a,d){return a!==d?(c.search("graphIRI",a).replace(),null!=a?("/"!==a.charAt(a.length-1)&&(a+="/"),b.datasetIRI=a+"void/Dataset@"+(new Date).toISOString(),b.updateGraphIRI=a+"void/"):(b.datasetIRI=b.sparqlEndpoint.replace(/sparql/g,"void")+"/Dataset@"+(new Date).toISOString(),b.updateGraphIRI=b.sparqlEndpoint.replace(/sparql/g,"void/"))):void 0}),b.$watch("datasetIRI",function(a,b){return a!==b?(""===a&&(a=null),c.search("datasetIRI",a).replace()):void 0}),b.$watch("updateGraphIRI",function(a,d){var e;return a!==d?(""===a&&(a=null),c.search("updateGraphIRI",a).replace(),null!=a?b.datasetIRI=a+"Dataset@"+(new Date).toISOString():(e=b.graphIRI,null!=e?("/"!==e.charAt(e.length-1)&&(e+="/"),b.datasetIRI=e+"void/Dataset@"+(new Date).toISOString()):b.datasetIRI=b.sparqlEndpoint.replace(/sparql/g,"void")+"/Dataset@"+(new Date).toISOString())):void 0}),b.$watch("sparulEndpoint",function(a,d){return a!==d?(""===a&&(a=null),c.search("sparulEndpoint",a).replace(),b.sparulEndpointInput=a):void 0}),f=null,g=function(){return b.graphIRIFetching=!0,null!=f&&f.resolve(),b.graphs=null,f=a.defer(),e.query(b.sparqlEndpoint,"        SELECT ?graphIRI (COUNT(*) AS ?triples) {\n          {\n            GRAPH ?graphIRI { ?s ?p ?o }\n          } UNION {\n            ?s ?p ?o\n          }\n        }\nGROUP BY ?graphIRI",{timeout:f.promise}).success(function(a){var c,d,e,f,g,h;for(b.graphIRIFetching=!1,d=!1,g=a.results.bindings,e=0,f=g.length;f>e;e++)c=g[e],(null!=(h=c.graphIRI)?h.value:void 0)===b.graphIRI&&(d=!0);return d||delete b.graphIRI,b.graphs=a.results.bindings})},b.$watch("sparqlEndpoint",function(a,d){return a!==d?(c.search("sparqlEndpoint",a).replace(),b.sparqlEndpointInput=a,b.datasetIRI=a.replace(/sparql/g,"void")+"/Dataset@"+(new Date).toISOString(),b.updateGraphIRI=a.replace(/sparql/g,"void/"),g()):void 0}),b.$watch("doSelections",function(a,b){return a!==b?c.search("doSelections",a).replace():void 0});for(i in d)j=d[i],b[i]=j;return b.sparulEndpointInput=b.sparulEndpoint,b.sparqlEndpoint?(b.sparqlEndpointInput=b.sparqlEndpoint,g()):void 0}])}.call(this);